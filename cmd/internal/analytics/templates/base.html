{{define "base"}}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Personal reading analytics and engineering blog tracker by Victoria Cheng.">
    <meta name="author" content="{{.IndexContent.Author.Name}}">
    <link rel="canonical" href="{{.BaseURL}}/{{.PageTitle}}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{.BaseURL}}">
    <meta property="og:title" content="{{.AnalyticsTitle}} - {{.PageTitle}}">
    <meta property="og:description" content="Zero-infrastructure reading analytics pipeline. Automated data pipeline via GitHub Actions with MongoDB event sourcing for observability and AI-powered Delta Analysis via Google Gemini.">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{.BaseURL}}">
    <meta property="twitter:title" content="{{.AnalyticsTitle}} - {{.PageTitle}}">
    <meta property="twitter:description" content="Zero-infrastructure reading analytics pipeline. Automated data pipeline via GitHub Actions with MongoDB event sourcing for observability and AI-powered Delta Analysis via Google Gemini.">

    <title>{{.AnalyticsTitle}} - {{.PageTitle}}</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>

<body>
    <div id="app">
        <header>
            <div class="header-title-group">
                <h1>{{.PageTitle}}</h1>
                <time>Last updated: {{.LastUpdated.Format "Jan 02, 2006 at 3:04 PM"}}</time>
            </div>
            <nav>
                <ul>
                    <li><a href="{{.BaseURL}}index.html" {{if eq .PageTitle "ðŸ“š Personal Reading Analytics"}}aria-current="page"{{end}}>Home</a></li>
                    <li><a href="{{.BaseURL}}analytics.html" {{if (or (eq .PageTitle "ðŸ“Š Analytics") (eq .PageTitle "ðŸ“Š Analytics (Archived)"))}}aria-current="page"{{end}}>Analytics</a></li>
                    <li><a href="{{.BaseURL}}evolution.html" {{if eq .PageTitle "â³ Evolution"}}aria-current="page"{{end}}>Evolution</a></li>
                    {{if (or (eq .PageTitle "ðŸ“Š Analytics") (eq .PageTitle "ðŸ“Š Analytics (Archived)"))}}
                    <li class="history-nav-item">
                        <label for="snapshot-selector" class="visually-hidden">Select Snapshot</label>
                        <select id="snapshot-selector" class="snapshot-select" onchange="window.location.href=this.value">
                            <option value="{{.BaseURL}}analytics.html">Latest Analytics</option>
                            {{$base := .BaseURL}}
                            {{range .HistoryDates}}
                            <option value="{{$base}}history/{{.}}/analytics.html" {{if eq . $.ReportDate}}selected{{end}}>
                                {{.}}
                            </option>
                            {{end}}
                        </select>
                    </li>
                    {{end}}
                </ul>
            </nav>
        </header>
        {{block "content" .}}{{end}}
        <footer>
          <div class="footer-content">
            <div class="footer-attribution">
              <p>&copy; 2026 {{.IndexContent.Author.Name}}</p>
              <div class="social-links">
                <a href="{{.IndexContent.Author.GitHub}}" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
                </a>
                <a href="{{.IndexContent.Author.LinkedIn}}" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
                </a>
              </div>
            </div>
            <p><span role="img" aria-label="Chart Increasing">ðŸ“ˆ</span> Data sourced from personal article collection â€¢ Weekly metrics via GitHub Actions</p>
          </div>
        </footer>
    </div>
    {{block "script" .}}{{end}}
</body>

</html>
{{end}}
